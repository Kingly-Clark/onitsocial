(()=>{var e={};e.id=645,e.ids=[645],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8302:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>h,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>c}),s(7723),s(3028),s(5866),s(2029);var a=s(3191),l=s(8716),r=s(7922),n=s.n(r),d=s(5231),i={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>d[e]);s.d(t,i);let c=["",{children:["(dashboard)",{children:["calendar",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,7723)),"/Users/tezferguson/gitProjects/onitsocial/src/app/(dashboard)/calendar/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,3028)),"/Users/tezferguson/gitProjects/onitsocial/src/app/(dashboard)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,2029)),"/Users/tezferguson/gitProjects/onitsocial/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/tezferguson/gitProjects/onitsocial/src/app/(dashboard)/calendar/page.tsx"],x="/(dashboard)/calendar/page",h={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/(dashboard)/calendar/page",pathname:"/calendar",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3563:(e,t,s)=>{Promise.resolve().then(s.bind(s,7456))},3855:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(5578).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},7456:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>_});var a=s(326),l=s(7577),r=s(1291),n=s(5578);let d=(0,n.Z)("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),i=(0,n.Z)("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]);var c=s(1664),o=s(7120),x=s(6527),h=s(7602),u=s(4071);function m(e,t,s){let a=(0,o.Q)(e,s?.in);if(isNaN(t))return(0,h.L)(s?.in||e,NaN);if(!t)return a;let l=a.getDate(),r=(0,h.L)(s?.in||e,a.getTime());return(r.setMonth(a.getMonth()+t+1,0),l>=r.getDate())?r:(a.setFullYear(r.getFullYear(),r.getMonth(),l),a)}var p=s(679);function g(e,t,s){let[a,l]=(0,x.d)(s?.in,e,t);return+(0,u.b)(a)==+(0,u.b)(l)}let j=(0,n.Z)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),b=(0,n.Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var f=s(1223);function v({posts:e,onDaySelect:t,onPostClick:s,selectedDate:r}){let[n,d]=(0,l.useState)(new Date),i=(0,l.useMemo)(()=>{let e=function(e,t){let s=(0,o.Q)(e,void 0);return s.setDate(1),s.setHours(0,0,0,0),s}(n),t=function(e,t){let s=(0,o.Q)(e,void 0),a=s.getMonth();return s.setFullYear(s.getFullYear(),a+1,0),s.setHours(23,59,59,999),s}(n),s=function(e,t){let{start:s,end:a}=function(e,t){let[s,a]=(0,x.d)(e,t.start,t.end);return{start:s,end:a}}(void 0,e),l=+s>+a,r=l?+s:+a,n=l?a:s;n.setHours(0,0,0,0);let d=(void 0)??1;if(!d)return[];d<0&&(d=-d,l=!l);let i=[];for(;+n<=r;)i.push((0,h.L)(s,n)),n.setDate(n.getDate()+d),n.setHours(0,0,0,0);return l?i.reverse():i}({start:e,end:t}),a=e.getDay(),l=[];for(let t=a-1;t>=0;t--){let s=new Date(e);s.setDate(s.getDate()-(t+1)),l.push(s)}let r=t.getDay(),d=[];for(let e=1;e<7-r;e++){let s=new Date(t);s.setDate(s.getDate()+e),d.push(s)}return[...l.reverse(),...s,...d]},[n]),v=t=>{let s=(0,u.b)(t),a=function(e,t){let s=(0,o.Q)(e,void 0);return s.setHours(23,59,59,999),s}(t);return e.filter(e=>{if("scheduled"===e.status&&e.scheduled_for){let t=new Date(e.scheduled_for);return t>=s&&t<=a}if("published"===e.status&&e.published_at){let t=new Date(e.published_at);return t>=s&&t<=a}return!1})},N=e=>{let t=v(e),s=new Set;return t.forEach(e=>{e.platforms.forEach(e=>s.add(e))}),Array.from(s)},k=e=>{let s=v(e);t?.(e,s)};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-50",children:(0,p.WU)(n,"MMMM yyyy")}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(c.z,{onClick:()=>{d(m(n,-1,void 0))},variant:"outline",size:"sm",className:"gap-1",children:[a.jsx(j,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),a.jsx(c.z,{onClick:()=>{d(new Date)},variant:"outline",size:"sm",children:"Today"}),(0,a.jsxs)(c.z,{onClick:()=>{d(m(n,1))},variant:"outline",size:"sm",className:"gap-1",children:[a.jsx("span",{className:"hidden sm:inline",children:"Next"}),a.jsx(b,{className:"h-4 w-4"})]})]})]}),(0,a.jsxs)("div",{className:"rounded-lg border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950 overflow-hidden",children:[a.jsx("div",{className:"grid grid-cols-7 bg-slate-50 dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>a.jsx("div",{className:"p-2 sm:p-3 text-center text-xs sm:text-sm font-semibold text-slate-700 dark:text-slate-300",children:e},e))}),a.jsx("div",{className:"grid grid-cols-7",children:i.map((e,t)=>{var s,l;let d=function(e,t,s){let[a,l]=(0,x.d)(void 0,e,t);return a.getFullYear()===l.getFullYear()&&a.getMonth()===l.getMonth()}(e,n),i=g((0,h.L)(e,e),(l=s?.in||e,(0,h.L)(l,Date.now()))),c=r&&g(e,r),o=v(e),u=N(e);return(0,a.jsxs)("button",{onClick:()=>k(e),className:(0,f.cn)("aspect-square flex flex-col items-center justify-start p-1 sm:p-2 border-b border-r border-slate-200 dark:border-slate-800 text-xs sm:text-sm transition-colors hover:bg-slate-50 dark:hover:bg-slate-900/50",!d&&"bg-slate-50 dark:bg-slate-900/30 text-slate-400 dark:text-slate-600",i&&d&&"bg-blue-50 dark:bg-blue-950/30",c&&"bg-brand-100 dark:bg-brand-950/30 ring-2 ring-brand-500"),children:[a.jsx("span",{className:(0,f.cn)("font-semibold mb-1",i&&d&&"text-blue-600 dark:text-blue-400"),children:(0,p.WU)(e,"d")}),u.length>0&&(0,a.jsxs)("div",{className:"flex flex-wrap gap-0.5 justify-center",children:[u.slice(0,3).map(e=>a.jsx("div",{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:(0,f.S_)(e)},title:e},e)),u.length>3&&a.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-400 dark:bg-slate-600",title:`+${u.length-3} more`})]}),o.length>0&&(0,a.jsxs)("div",{className:"mt-0.5 text-xs text-slate-600 dark:text-slate-400",children:[o.length," ",1===o.length?"post":"posts"]})]},t)})})]})]})}var N=s(3855),k=s(9752),y=s(7568);function w({date:e,posts:t,onBack:s,onAddPost:r,onEditPost:n,onDeletePost:d}){let[i,o]=(0,l.useState)(new Set),x=t.filter(e=>!i.has(e.id)),h=e=>{o(t=>{let s=new Set(t);return s.add(e),s}),d?.(e)};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("button",{onClick:s,className:"flex items-center gap-2 text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-50 transition-colors",children:[a.jsx(j,{className:"h-5 w-5"}),a.jsx("span",{className:"text-sm font-medium",children:"Back"})]}),a.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-50",children:(0,f.p6)(e)}),(0,a.jsxs)(c.z,{onClick:()=>r?.(e),size:"sm",className:"gap-2",children:[a.jsx(N.Z,{className:"h-4 w-4"}),"Add Post"]})]}),0===x.length?a.jsx(k.Zb,{children:(0,a.jsxs)(k.aY,{className:"p-8 text-center",children:[a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:"No posts scheduled for this day"}),(0,a.jsxs)(c.z,{onClick:()=>r?.(e),className:"gap-2",children:[a.jsx(N.Z,{className:"h-4 w-4"}),"Create First Post"]})]})}):a.jsx("div",{className:"space-y-3",children:x.map(e=>a.jsx(y.y,{post:e,onEdit:n,onDelete:h},e.id))}),x.length>0&&a.jsx(k.Zb,{children:a.jsx(k.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-50",children:x.length}),a.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Posts"})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-50",children:x.filter(e=>"published"===e.status).length}),a.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Published"})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-50",children:x.filter(e=>"scheduled"===e.status).length}),a.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:"Scheduled"})]})]})})})]})}var P=s(1589),M=s(5436),z=s(8587),D=s(7506);function _(){let{activeBrandId:e,getActiveBrand:t}=(0,M.o)(),s=(0,z.useRouter)(),[n,o]=(0,l.useState)("calendar"),[x,h]=(0,l.useState)(null),[u,m]=(0,l.useState)([]),[p,g]=(0,l.useState)([]),[j,b]=(0,l.useState)(!0),f=t(),N=()=>{o("calendar"),h(null),m([])};return e?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-slate-50",children:"Content Calendar"}),a.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1",children:f?.name&&(0,a.jsxs)(a.Fragment,{children:["Manage your content schedule for ",a.jsx("span",{className:"font-semibold",children:f.name})]})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(c.z,{onClick:()=>o("calendar"),variant:"calendar"===n?"default":"outline",size:"sm",className:"gap-2",children:[a.jsx(d,{className:"h-4 w-4"}),"Calendar"]}),(0,a.jsxs)(c.z,{onClick:()=>o("list"),variant:"list"===n?"default":"outline",size:"sm",className:"gap-2",children:[a.jsx(i,{className:"h-4 w-4"}),"List"]})]})]}),j&&a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[a.jsx(D.Z,{className:"h-8 w-8 mx-auto text-slate-600 dark:text-slate-400 animate-spin"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Loading calendar..."})]})}),!j&&(0,a.jsxs)("div",{className:"grid gap-6 lg:grid-cols-3",children:[a.jsx("div",{className:"lg:col-span-2",children:"calendar"===n?a.jsx(v,{posts:p,onDaySelect:(e,t)=>{h(e),m(t),"calendar"===n&&o("list")},selectedDate:x||void 0}):x?a.jsx(w,{date:x,posts:u,onBack:N,onAddPost:e=>{s.push("/planner")}}):a.jsx(P.p,{})}),"calendar"===n&&a.jsx("div",{className:"hidden lg:block sticky top-20",children:x?a.jsx(w,{date:x,posts:u,onBack:N,onAddPost:e=>{s.push("/planner")}}):a.jsx("div",{className:"rounded-lg border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-950 p-6 text-center",children:a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Select a day to view and manage posts"})})})]})]}):a.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[a.jsx(r.Z,{className:"h-12 w-12 mx-auto text-amber-600 dark:text-amber-400"}),a.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-50",children:"No Brand Selected"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Please select a brand to view its calendar"})]})})}},7723:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(8570).createProxy)(String.raw`/Users/tezferguson/gitProjects/onitsocial/src/app/(dashboard)/calendar/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[9276,9702,4471,6582,9840,1564],()=>s(8302));module.exports=a})();
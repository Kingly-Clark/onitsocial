(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{28965:function(e,t,a){Promise.resolve().then(a.bind(a,16897))},76858:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(68755).Z)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},16897:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});var r=a(57437),s=a(2265),n=a(99376),l=a(30401),d=a(15001),c=a(76858),i=a(12381),o=a(40279),u=a(79820),x=a(69174),m=a(99029),f=a(82566);let b=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"];function h(){let e=(0,n.useRouter)(),[t,a]=(0,s.useState)(1),[h,g]=(0,s.useState)(!1),[j,p]=(0,s.useState)(""),[N,v]=(0,s.useState)(""),[k,y]=(0,s.useState)([]),[w,C]=(0,s.useState)({brandName:"",brandColor:b[0],selectedPlan:"starter"}),S=async e=>{e.preventDefault(),p(""),g(!0);try{let e=await fetch("/api/brands",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:w.brandName,color:w.brandColor})});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to create brand")}let t=await e.json();v(t.data.id),a(2)}catch(e){p(e instanceof Error?e.message:"An error occurred")}finally{g(!1)}},F=async()=>{p(""),g(!0);try{let e=await fetch("/api/subscription/upgrade",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({plan:w.selectedPlan})});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to update subscription")}a(4)}catch(e){p(e instanceof Error?e.message:"An error occurred")}finally{g(!1)}};return(0,s.useEffect)(()=>{if(4===t){let t=setTimeout(()=>{e.push("/brands")},2e3);return()=>clearTimeout(t)}},[t,e]),(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-950 flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"w-full max-w-2xl",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("div",{className:"flex items-center justify-between mb-4",children:[1,2,3,4].map(e=>(0,r.jsxs)("div",{className:"flex items-center flex-1",children:[(0,r.jsx)("div",{className:"h-10 w-10 rounded-full flex items-center justify-center font-bold transition-all ".concat(e<t?"bg-green-500 text-white":e===t?"bg-brand-500 text-white":"bg-slate-200 dark:bg-slate-800 text-slate-600 dark:text-slate-400"),children:e<t?(0,r.jsx)(l.Z,{className:"h-5 w-5"}):e}),e<4&&(0,r.jsx)("div",{className:"h-1 flex-1 mx-2 rounded-full transition-all ".concat(e<t?"bg-green-500":"bg-slate-200 dark:bg-slate-800")})]},e))}),(0,r.jsxs)("p",{className:"text-sm text-slate-600 dark:text-slate-400 text-center",children:["Step ",t," of 4"]})]}),1===t&&(0,r.jsxs)(u.Zb,{children:[(0,r.jsxs)(u.Ol,{children:[(0,r.jsx)(u.ll,{children:"Create Your First Brand"}),(0,r.jsx)(u.SZ,{children:"Let's start by setting up your brand name and color"})]}),(0,r.jsx)(u.aY,{children:(0,r.jsxs)("form",{onSubmit:S,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium text-slate-900 dark:text-slate-50",children:"Brand Name"}),(0,r.jsx)(o.I,{placeholder:"e.g., My Company, Personal Brand",value:w.brandName,onChange:e=>C(t=>({...t,brandName:e.target.value})),disabled:h,required:!0,autoFocus:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium text-slate-900 dark:text-slate-50",children:"Brand Color"}),(0,r.jsx)("div",{className:"grid grid-cols-6 gap-3",children:b.map(e=>(0,r.jsx)("button",{type:"button",onClick:()=>C(t=>({...t,brandColor:e})),disabled:h,className:"h-12 rounded-lg border-2 transition-all ".concat(w.brandColor===e?"border-slate-900 dark:border-slate-50":"border-transparent"),style:{backgroundColor:e}},e))})]}),j&&(0,r.jsx)("div",{className:"rounded-lg bg-red-50 dark:bg-red-950 p-3 text-sm text-red-700 dark:text-red-300",children:j}),(0,r.jsx)(i.z,{type:"submit",disabled:h||!w.brandName.trim(),className:"w-full gap-2",children:h?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Z,{className:"h-4 w-4 animate-spin"}),"Creating..."]}):(0,r.jsxs)(r.Fragment,{children:["Continue",(0,r.jsx)(c.Z,{className:"h-4 w-4"})]})})]})})]}),2===t&&(0,r.jsxs)(u.Zb,{children:[(0,r.jsxs)(u.Ol,{children:[(0,r.jsx)(u.ll,{children:"Connect Your Platforms"}),(0,r.jsx)(u.SZ,{children:"Connect your social media and business accounts (optional - you can skip this)"})]}),(0,r.jsxs)(u.aY,{className:"space-y-6",children:[(0,r.jsx)(m.E,{brandId:N,connectedAccounts:k,onConnect:async()=>{let e=await fetch("/api/brands/".concat(N));e.ok&&y((await e.json()).data.connected_accounts||[])}}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)(i.z,{variant:"outline",onClick:()=>a(3),className:"flex-1",children:"Skip"}),(0,r.jsxs)(i.z,{onClick:()=>a(3),className:"flex-1 gap-2",children:["Continue",(0,r.jsx)(c.Z,{className:"h-4 w-4"})]})]})]})]}),3===t&&(0,r.jsxs)(u.Zb,{children:[(0,r.jsxs)(u.Ol,{children:[(0,r.jsx)(u.ll,{children:"Choose Your Plan"}),(0,r.jsx)(u.SZ,{children:"Select the plan that works best for you"})]}),(0,r.jsxs)(u.aY,{children:[(0,r.jsx)("div",{className:"grid gap-4 md:grid-cols-3 mb-6",children:Object.entries(f.kT).map(e=>{let[t,a]=e;return(0,r.jsxs)("button",{onClick:()=>C(e=>({...e,selectedPlan:t})),disabled:h,className:"p-6 rounded-lg border-2 transition-all text-left ".concat(w.selectedPlan===t?"border-brand-500 bg-brand-50 dark:bg-brand-950":"border-slate-200 dark:border-slate-800 hover:border-brand-300 dark:hover:border-brand-700"),children:[(0,r.jsx)("h3",{className:"font-semibold text-slate-900 dark:text-slate-50 capitalize",children:a.label}),(0,r.jsxs)("p",{className:"text-2xl font-bold text-brand-500 mt-2",children:["$",a.monthly,(0,r.jsx)("span",{className:"text-sm text-slate-600 dark:text-slate-400 font-normal",children:"/mo"})]}),(0,r.jsxs)("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-2",children:[f.an[t]," brand",f.an[t]>1?"s":""]}),w.selectedPlan===t&&(0,r.jsx)(x.C,{className:"mt-3",children:"Selected"})]},t)})}),j&&(0,r.jsx)("div",{className:"rounded-lg bg-red-50 dark:bg-red-950 p-3 text-sm text-red-700 dark:text-red-300 mb-4",children:j}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)(i.z,{variant:"outline",onClick:()=>a(2),disabled:h,className:"flex-1",children:"Back"}),(0,r.jsx)(i.z,{onClick:F,disabled:h,className:"flex-1 gap-2",children:h?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Z,{className:"h-4 w-4 animate-spin"}),"Setting up..."]}):(0,r.jsxs)(r.Fragment,{children:["Complete Setup",(0,r.jsx)(c.Z,{className:"h-4 w-4"})]})})]})]})]}),4===t&&(0,r.jsx)(u.Zb,{className:"border-green-200 dark:border-green-800",children:(0,r.jsx)(u.aY,{className:"p-12",children:(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4 text-center",children:[(0,r.jsx)("div",{className:"h-16 w-16 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center",children:(0,r.jsx)(l.Z,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-slate-900 dark:text-slate-50",children:"You're all set!"}),(0,r.jsxs)("p",{className:"text-slate-600 dark:text-slate-400 mt-2",children:['Your brand "',w.brandName,'" has been created.']}),(0,r.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-500 mt-1",children:"Redirecting to dashboard..."})]}),(0,r.jsx)(d.Z,{className:"h-5 w-5 animate-spin text-brand-500 mt-4"})]})})})]})})}},96246:function(e,t,a){"use strict";a.d(t,{F$:function(){return d},Q5:function(){return c},qE:function(){return l}});var r=a(57437),s=a(2265),n=a(93448);let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("relative inline-flex h-10 w-10 shrink-0 overflow-hidden rounded-full bg-slate-100 dark:bg-slate-800",a),...s})});l.displayName="Avatar";let d=s.forwardRef((e,t)=>{let{className:a,alt:s,...l}=e;return(0,r.jsx)("img",{ref:t,alt:s,className:(0,n.cn)("aspect-square h-full w-full object-cover",a),...l})});d.displayName="AvatarImage";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex h-full w-full items-center justify-center bg-slate-200 text-xs font-medium text-slate-600 dark:bg-slate-700 dark:text-slate-200",a),...s})});c.displayName="AvatarFallback"},12381:function(e,t,a){"use strict";a.d(t,{z:function(){return c}});var r=a(57437),s=a(2265),n=a(90535),l=a(93448);let d=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-brand-500 text-white hover:bg-brand-600 active:bg-brand-700",destructive:"bg-red-500 text-white hover:bg-red-600 active:bg-red-700",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 active:bg-secondary/70",ghost:"hover:bg-accent hover:text-accent-foreground active:bg-accent/70",link:"text-brand-500 underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:a,variant:s,size:n,...c}=e;return(0,r.jsx)("button",{className:(0,l.cn)(d({variant:s,size:n,className:a})),ref:t,...c})});c.displayName="Button"},93448:function(e,t,a){"use strict";a.d(t,{SY:function(){return c},S_:function(){return i},cn:function(){return n},p6:function(){return l},uf:function(){return d}});var r=a(61994),s=a(53335);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.m6)((0,r.W)(t))}function l(e,t){return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric",...t}).format(new Date(e))}function d(e){return e>=1e6?"".concat((e/1e6).toFixed(1),"M"):e>=1e3?"".concat((e/1e3).toFixed(1),"K"):e.toString()}function c(e){let t=Math.floor((Date.now()-new Date(e).getTime())/6e4);if(t<1)return"just now";if(t<60)return"".concat(t,"m ago");let a=Math.floor(t/60);if(a<24)return"".concat(a,"h ago");let r=Math.floor(a/24);return r<7?"".concat(r,"d ago"):l(e)}function i(e){return({facebook:"#1877F2",instagram:"#E4405F",tiktok:"#000000",youtube:"#FF0000",linkedin:"#0A66C2",google_business:"#4285F4"})[e]||"#6B7280"}}},function(e){e.O(0,[851,346,971,117,744],function(){return e(e.s=28965)}),_N_E=e.O()}]);